<<<<<<< HEAD
{% extends "main.html" %}
{% load static %}
{% block title %}Store{% endblock %}
{% block content %}
 <hr class="offset-top">
<div class="tags">
    <div class="container">
=======
<!DOCTYPE html>
<html lang="en">
  {% load static %}
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <title>Store &middot; Unistore &middot;</title>

    <meta name="description" content="" />
    <meta name="keywords" content="" />
    <meta name="author" content="Sunrise Digital" />
    <!--JQuery -->
      <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <!-- Bootstrap -->
    <link href="{% static 'assets/css/bootstrap.css' %}" rel="stylesheet" />
    <link href="{% static 'assets/css/custom.css' %}" rel="stylesheet" />
    <link href="{% static 'assets/css/carousel.css' %}" rel="stylesheet" />
    <link
      href="{% static 'assets/ionicons-2.0.1/css/ionicons.css' %}"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="//code.jquery.com/ui/1.11.4/themes/smoothness/jquery-ui.css"
    />
    <link
      href="https://fonts.googleapis.com/css?family=Catamaran:400,100,300"
      rel="stylesheet"
      type="text/css"
    />

    <link
      href="{% static 'assets/css/custom-scroll/jquery.mCustomScrollbar.css' %}"
      rel="stylesheet"
    />
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="cart" data-toggle="inactive">

      <div class="label"><i class="ion-bag"></i> {{ cart|length }}</div>

      <div class="overlay"></div>

      <div class="window">
        <div class="title">
          <button type="button" class="close">
            <i class="ion-android-close"></i>
          </button>
          <h4>Shopping cart</h4>
        </div>

        <div class="content">
            {% for item in cart %}


          <div class="media">
            <div class="media-left">
              <a href="#">
                <img
                  class="media-object"
                  src="{{ item.product.image.url }}"
                  alt="{{ item.product.name }} image"
                />
              </a>
            </div>
            <div class="media-body">
              <h2 class="h4 media-heading">{{item.product.name}}</h2>
              <label>{{item.product.category}}</label>
              <p class="price">${{item.product.price}}</p>
            </div>
            <div class="controls">
              <div class="input-group">
                <span class="input-group-btn">
                  <button
                    class="btn btn-default btn-sm"
                    type="button"
                    data-action="minus"
                  >
                    <i class="ion-minus-round"></i>
                  </button>
                </span>
                <input
                  type="text"
                  class="form-control input-sm"
                  placeholder="Qty"
                  value="1"
                  readonly=""
                />
                <span class="input-group-btn">
                  <button
                    class="btn btn-default btn-sm"
                    type="button"
                    data-action="plus"
                  >
                    <i class="ion-plus-round"></i>
                  </button>
                </span>
              </div>
              <!-- /input-group -->
                <form action="{% url 'store:remove' item.id %}" method="POST">
                    {% csrf_token %}
                     <input class="btn-sm btn-primary" type="submit" value="Remove">
                </form>

            </div>
          </div>
            {% endfor %}
        </div>

        <div class="checkout container-fluid">
          <div class="row">
            <div class="col-xs-12 col-sm-12 align-right">
              <a class="btn btn-primary" href="../checkout/">
                Checkout order
              </a>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="toplinks">
      {%if user.full_name%}
      <a href="{% url 'home:logout' %}" class="ion-log-out"> Log out</a>
      <a href="{% url 'home:register' %}" class="ion-person">
        {{user.full_name}}</a
      >
      <a href="./favorites/" class="ion-ios-heart"> Favorites </a>
      {%else%}
      <a href="{% url 'home:register' %}" class="ion-person"> Registration</a>
      <a href="{% url 'home:login' %}" class="ion-unlocked"> Sign In</a>
      {% endif %}
      <a href="tel:+80005554465" class="hidden-xs">
        <i class="ion-android-call"></i> 8000 555-44-65
      </a>
    </div>

    <nav class="navbar navbar-default">
      <div class="container">
        <div class="navbar-header">
          <button
            type="button"
            class="navbar-toggle collapsed"
            data-toggle="collapse"
            data-target="#navbar"
            aria-expanded="false"
            aria-controls="navbar"
          >
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="../"> Unistore </a>
          <a
            class="navbar-brand pull-right hidden-sm hidden-md hidden-lg"
            href="#open-cart"
          >
            <i class="ion-bag"></i> 7
          </a>
        </div>

        <div id="navbar" class="navbar-collapse collapse">
          <ul class="nav navbar-nav">
            <li><a href="{%url 'home:index' %}">Home</a></li>
            <li class="active"><a href="{%url 'store:index' %}">Store</a></li>
            <li><a href="{%url 'blog:index' %}">Blog</a></li>
            <li><a href="{% url 'home:contact' %}">Contact</a></li>
            <li class="dropdown">
              <a
                href="../store/"
                class="dropdown-toggle"
                data-toggle="dropdown"
                role="button"
                aria-haspopup="true"
                aria-expanded="false"
              >
                More <i class="ion-android-arrow-dropdown"></i>
              </a>
              <ul class="dropdown-menu">
                <li><a href="../store/product.html">Product</a></li>
                <li><a href="../about/">About Us</a></li>
                <li><a href="{% url 'store:checkout' %}">Checkout</a></li>
                <li><a href="../faq/">FAQ</a></li>
                <li><a href="../gallery/">Gallery</a></li>
                <li role="separator" class="divider"></li>
                <li class="dropdown-header">Variations</li>
                <li><a href="../blog/item-photo.html">Article Photo</a></li>
                <li><a href="../blog/item-video.html">Article Video</a></li>
              </ul>
            </li>
          </ul>
        </div>
        <!--/.nav-collapse -->

        <div class="search hidden-xs" data-style="hidden">
          <div class="input">
            <button type="button"><i class="ion-ios-search"></i></button>

            <input
              type="text"
              name="search"
              value=""
              placeholder="Type here..."
            />
          </div>
        </div>
      </div>
      <!--/.container-fluid -->
    </nav>
    <hr class="offset-top" />

    <div class="tags">
      <div class="container">
>>>>>>> origin/main
        <div class="btn-group pull-right sorting">
            <button
                    type="button"
                    class="btn btn-default btn-sm dropdown-toggle"
                    data-toggle="dropdown"
                    aria-haspopup="true"
                    aria-expanded="false"
            >
                <i class="ion-arrow-down-b"></i> Sorting by name
            </button>

            <ul class="dropdown-menu">
                <li class="active">
                    <a href="?sort=name"> <i class="ion-arrow-down-c"></i> Name [A-Z]</a>
                </li>
                <li>
                    <a href="?sort=-name">
                        <i class="ion-arrow-up-c"></i> Name [Z-A]</a
                    >
                </li>
                <li>
                    <a href="?sort=price">
                        <i class="ion-arrow-down-c"></i> Price [Low-High]</a
                    >
                </li>
                <li>
                    <a href="?sort=-price">
                        <i class="ion-arrow-up-c"></i> Price [High-Low]</a
                    >
                </li>
            </ul>
        </div>

        <p>
            <button
                    class="btn btn-sm btn-primary ion-ios-search"
                    type="button"
                    data-toggle="collapse"
                    data-target="#collapseExample"
                    aria-expanded="false"
                    aria-controls="collapseExample"
            >
                Search Products
            </button>
        </p>
        <div class="collapse" id="collapseExample">
            <div class="card card-body">
                <form class="form-inline">
                    <div class="form-group mb-2">
                        <label>Name</label>
                        {{ myFilter.form.name }}
                    </div>

                    <div class="form-group mb-2">
                        <label>Price</label>
                        {{ myFilter.form.price }}
                    </div>

                    <div class="form-group mb-2">
                        <label>Category</label>
                        {{ myFilter.form.category }}
                    </div>
                    <input
                            type="submit"
                            class="btn-sm btn-primary mb-2"
                            value="Search by Product"
                    />
                </form>
                <br/>
            </div>
        </div>
        <div class="btn-group">
            <a
                    href="{% url 'store:index' %}"
                    class="btn btn-default btn-sm active"
            >All Products</a
            >
            {% for category in categories %}
                <a
                        href="?category={{ category.id }}"
                        class="btn btn-default btn-sm active"
                >{{ category.name }}</a
                >
            {% endfor %}
        </div>
    </div>
</div>

<div class="container">
        <!-- Products -->

<<<<<<< HEAD
            <hr class="offset-lg"/>

            <div class="products">
                <div class="row">
                    {% if products %} {% for product in page_obj %}
                        <div class="col-sm-6 col-md-4 product">
                            <div class="body">
                                <a
                                        href="#favorites"
                                        class="favorites"
                                        data-favorite="inactive"
                                ><i class="ion-ios-heart-outline"></i
                                ></a>
                                <a href=""
                                ><img src="{{ product.image.url }}" alt="{{ product.name }}"
                                /></a>

                                <div class="content">
                                    <h1 class="h3">{{ product.name }}</h1>
                                    <p class="price">${{ product.price }}</p>
                                    <label><strong>{{ product.category.name }}</strong></label>

                                    <button class="btn btn-link">
                                        <i class="ion-android-open"></i> Details
                                    </button>
                                    <form class="form form-inline" action="{% url 'store:cart' %}" method="POST">
                                        {% csrf_token %}
                                        <input type="hidden" name="productId" value="{{ product.id }}">
                                        <input type="hidden" name="userId" value="{{ user.id }}">
                                        <input class="btn btn-primary btn-sm rounded update-cart" type="submit"
                                               value="Add to Cart">
                                    </form>
                                </div>
                            </div>
                        </div>
                    {% endfor %} {% else %}
                        <div class="text-center">
                            <div class="product">
                                <br/><br/><br/><br/><br/><br/><br/>
                                <div class="body">
                                    <div class="content">
                                        <h1 class="h3">Sorry, the products in this category are not available right
                                            now.</h1>
                                        <label>You can browse other categories or read our blogs meanwhile.</label>
                                        <a href={% url 'blog:index' %}>Go to blogs</a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    {% endif %}
=======
          <div class="products">
            <div class="row">
              {% if products%} {% for product in page_obj %}
              <div class="col-sm-6 col-md-4 product">
                <div class="body">
                  <a
                    href="#favorites"
                    class="favorites"
                    data-favorite="inactive"
                    ><i class="ion-ios-heart-outline"></i
                  ></a>
                  <a href=""
                    ><img src="{{product.image.url}}" alt="{{product.name}}"
                  /></a>

                  <div class="content">
                    <h1 class="h3">{{product.name}}</h1>
                    <p class="price">${{product.price}}</p>
                    <label><strong>{{product.category.name}}</strong></label>
                    <button class="btn btn-link">
                  <i class="ion-android-open"></i> Details
                </button>
                <form action="{% url 'store:cart' %}" method="POST">
                {% csrf_token %}
                <input type="hidden" name="productId" value="{{product.id}}">
                <input class="btn btn-primary btn-sm rounded update-cart" type="submit" value="Add to Cart">
                </form>
                  </div>
                </div>
              </div>
              {% endfor %} {%else%}
              <div class="text-center">
              <div class="product">>
              <br/><br/><br/><br/><br/><br/><br/>
                <div class="body">
                  <div class="content">
                    <h1 class="h3">Sorry, the products in this category are not available right now.</h1>
                    <label>You can browse other categories or read our blogs meanwhile.</label>
                    <a href={% url 'blog:index' %}>Go to blogs</a>
                  </div>
>>>>>>> origin/main
                </div>
            </div>

            <nav>
                <ul class="pagination">
                    <li>
                        {% if page_obj.has_previous %}
                            <a href="?page={{ page_obj.previous_page_number }}" aria-label="Previous">
                  <span aria-hidden="true"
                  ><i class="ion-ios-arrow-left"></i
                  ></span>
                            </a>
                        {% endif %}
                    </li>
                    <li class="active"><a href="">{{ page_obj.number }}</a></li>
                    {% comment %} <li><a href="?page=2">2</a></li>
              <li><a href="?page=3">3</a></li>
              <li><a href="#">10</a></li> {% endcomment %}
                    <li>
                        {% if page_obj.has_next %}
                            <a href="?page={{ page_obj.next_page_number }}" aria-label="Next">
                  <span aria-hidden="true"
                  ><i class="ion-ios-arrow-right"></i
                  ></span>
                            </a>
                        {% endif %}
                    </li>
                </ul>
            </nav>

        <!-- /// -->
</div>

<hr class="offset-lg"/>
<hr class="offset-sm"/>
<footer>
    <div class="about">
        <div class="container">
            <div class="row">
                <hr class="offset-md"/>

                <div class="col-xs-6 col-sm-3">
                    <div class="item">
                        <i class="ion-ios-telephone-outline"></i>
                        <h1>
                            24/7 free <br/>
                            <span>support</span>
                        </h1>
                    </div>
                </div>
                <div class="col-xs-6 col-sm-3">
                    <div class="item">
                        <i class="ion-ios-star-outline"></i>
                        <h1>
                            Low price <br/>
                            <span>guarantee</span>
                        </h1>
                    </div>
                </div>
                <div class="col-xs-6 col-sm-3">
                    <div class="item">
                        <i class="ion-ios-gear-outline"></i>
                        <h1>
                            Manufacturer’s <br/>
                            <span>warranty</span>
                        </h1>
                    </div>
                </div>
                <div class="col-xs-6 col-sm-3">
                    <div class="item">
                        <i class="ion-ios-loop"></i>
                        <h1>
                            Full refund <br/>
                            <span>guarantee</span>
                        </h1>
                    </div>
                </div>

                <hr class="offset-md"/>
            </div>
        </div>
    </div>

    <div class="subscribe">
        <div class="container align-center">
            <hr class="offset-md"/>

            <h1 class="h3 upp">Join our newsletter</h1>
            <p>
                Get more information and receive special discounts for our products.
            </p>
            <hr class="offset-sm"/>

            <form action="index.php" method="post">
                <div class="input-group">
                    <input
                            type="email"
                            name="email"
                            value=""
                            placeholder="E-mail"
                            required=""
                            class="form-control"
                    />
                    <span class="input-group-btn">
                <button type="submit" class="btn btn-primary">
                  Subscribe <i class="ion-android-send"></i>
                </button>
              </span>
                </div>
<<<<<<< HEAD
                <!-- /input-group -->
            </form>
            <hr class="offset-lg"/>
            <hr class="offset-md"/>

            <div class="social">
                <a href="#"><i class="ion-social-facebook"></i></a>
                <a href="#"><i class="ion-social-twitter"></i></a>
                <a href="#"><i class="ion-social-googleplus-outline"></i></a>
                <a href="#"><i class="ion-social-instagram-outline"></i></a>
                <a href="#"><i class="ion-social-linkedin-outline"></i></a>
                <a href="#"><i class="ion-social-youtube-outline"></i></a>
            </div>
            {% endblock %}
            <script type="text/javascript">
                $(document).on('submit', '#add-to-cart-form', function (e) {
                    e.preventDefault();
                    const product_id = document.getElementById("productId").val();
                    const user_id = document.getElementById("userId").val();
                    $.ajax({
                        type: 'POST',
                        url: '/store/cart',
                        data: {
                            csrfmiddlewaretoken: $('input[name=csrfmiddlewaretoken]').val(),

                            productId: product_id,
                            userId: userId
                        },
                        success: function (data) {
                            $('h3').html(data);

                        }
                    })
                })
            </script>
=======
              </div>
            </div>
          </div>
          <div class="modal-footer"></div>
        </div>
      </div>
    </div>

    <div class="modal fade" id="Modal-Gallery" tabindex="-1" role="dialog">
      <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <button
              type="button"
              class="close"
              data-dismiss="modal"
              aria-label="Close"
            >
              <span aria-hidden="true"><i class="ion-android-close"></i></span>
            </button>
            <h4 class="modal-title">Title</h4>
          </div>
          <div class="modal-body"></div>
          <div class="modal-footer"></div>
        </div>
      </div>
    </div>

    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="{% static 'assets/js/jquery-latest.min.js' %}"></script>

    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="{% static 'assets/js/bootstrap.min.js' %}"></script>
    <script src="{% static 'assets/js/core.js' %}"></script>
    <script src="{% static 'assets/js/store.js' %}"></script>
    <script
      type="text/javascript"
      src="{% static 'assets/js/custom-scroll/jquery.mCustomScrollbar.concat.min.js' %}"
    ></script>

    <script
      type="text/javascript"
      src="{% static 'assets/js/jquery-ui-1.11.4.js' %}"
    ></script>
    <script
      type="text/javascript"
      src="{% static 'assets/js/jquery.ui.touch-punch.js' %}"
    ></script>
  </body>

</html>
{#<script type="text/javascript">#}
{#        $(document).on('submit', '#add-to-cart-form', function(e){#}
{#            e.preventDefault();#}
{##}
{#            $.ajax({#}
{#                type:'POST',#}
{#                url:'/store/cart',#}
{#                data:{#}
{#                    csrfmiddlewaretoken:$('input[name=csrfmiddlewaretoken]').val(),#}
{##}
{#                    productId:$('#productId').val(),#}
{#                    userId:$('#userId').val(),#}
{#                },#}
{#                success: function(data){#}
{#                    $('h3').html(data);#}
{##}
{#                }#}
{#            })#}
{#        })#}
{#    </script>#}
>>>>>>> origin/main
